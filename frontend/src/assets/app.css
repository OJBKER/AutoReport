/*
 Global Design Tokens & Utilities
 --------------------------------------------------
 Strategy:
 1. Base (normalize-lite + root palette)
 2. Semantic tokens (primary, success, warning, danger, info, surface)
 3. Component sizing / spacing scale
 4. Utilities (.u-*)
 5. Generic component primitives (.btn, .chip, .card, .shadow-* )
 6. Dark mode placeholder (prefers-color-scheme)
*/

/* 1. Base Palette (Neutral & Accent Primitives) */
:root {
  /* Neutral scale */
  --color-white: #ffffff;
  --color-black: #000000;
  --color-gray-50: #f8fafc;
  --color-gray-75: #f6f8fa; /* GitHub-ish bg */
  --color-gray-100: #f1f5f9;
  --color-gray-150: #eef2f7;
  --color-gray-200: #e5e7eb;
  --color-gray-250: #e0e3e8;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #64748b;
  --color-gray-700: #4b5563;
  --color-gray-800: #374151;
  --color-gray-900: #1f2937;

  /* Accent Blues */
  --color-blue-50: #f0f8ff;
  --color-blue-100: #eef5ff;
  --color-blue-150: #e0f0ff;
  --color-blue-200: #cbe6ff; /* light shadow accent */
  --color-blue-300: #b3d9ff;
  --color-blue-400: #74b9ff;
  --color-blue-500: #409eff; /* primary base */
  --color-blue-600: #337ecc; /* hover */
  --color-blue-650: #3a8ee6; /* gradient mix */
  --color-blue-700: #2563eb; /* alt primary (modal action) */
  --color-blue-800: #1d4ed8; /* alt hover */
  --color-blue-900: #1f4099; /* chip text */

  /* Status Colors */
  --color-green-500: #16a34a;
  --color-green-550: #67c23a;
  --color-green-bg: #e7f5e7;
  --color-green-border: #c2e7b0;

  --color-yellow-500: #e6a23c;
  --color-yellow-bg: #fff3cd;
  --color-yellow-border: #ffe49a;

  --color-red-400: #e74c3c;
  --color-red-500: #dc2626;
  --color-red-550: #f56c6c;
  --color-red-bg: #f8d7da;
  --color-red-border: #fbc4c4;

  --color-purple-grad-start: #667eea;
  --color-purple-grad-end: #764ba2;

  /* Surfaces & Overlays */
  --color-surface: var(--color-white);
  --color-surface-alt: var(--color-gray-50);
  --color-surface-subtle: var(--color-gray-75);
  --color-overlay: rgba(0,0,0,0.55);
  --color-backdrop-blur-bg: rgba(255,255,255,0.92);

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0,0,0,0.05);
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
  --shadow-md: 0 2px 8px rgba(0,0,0,0.06);
  --shadow-lg: 0 2px 12px #eee; /* legacy style reference */
  --shadow-pop: 0 4px 18px rgba(0,0,0,0.12);
  --shadow-modal: 0 8px 28px rgba(0,0,0,0.18);
  --shadow-focus-blue: 0 2px 8px var(--color-blue-200);

  /* Radii */
  --radius-xs: 4px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 10px;
  --radius-pill: 999px;

  /* Spacing Scale (4-based) */
  --space-0: 0;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 28px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;

  /* Typography */
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 15px;
  --font-size-lg: 16px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;

  /* Z-index Scale */
  --z-nav: 90;
  --z-assist-bar: 100;
  --z-dropdown: 400;
  --z-toast: 1200;
  --z-modal: 1300;

  /* Transitions */
  --transition-fast: 120ms ease;
  --transition-base: 200ms ease;
}

/* 2. Semantic Tokens */
:root {
  --color-text-primary: var(--color-gray-900);
  --color-text-secondary: var(--color-gray-600);
  --color-text-muted: var(--color-gray-500);
  --color-border: var(--color-gray-200);
  --color-border-strong: var(--color-gray-300);
  --color-primary: var(--color-blue-500);
  --color-primary-hover: var(--color-blue-600);
  --color-primary-alt: var(--color-blue-700);
  --color-primary-alt-hover: var(--color-blue-800);
  --color-chip-bg: var(--color-blue-100);
  --color-chip-text: var(--color-blue-900);
  --color-focus-ring: var(--color-blue-500);
  --assist-input-border: #b3c2d4;
  --assist-input-bg: #f8fbff;
  --assist-input-shadow: #e0e7ef;
  --assist-input-focus-ring: rgba(64,158,255,0.25);
}

/* 3. Utilities */
.u-flex { display: flex; }
.u-flex-center { display:flex; align-items:center; justify-content:center; }
.u-flex-col { display:flex; flex-direction:column; }
.u-gap-1 { gap: var(--space-1); }
.u-gap-2 { gap: var(--space-2); }
.u-gap-3 { gap: var(--space-3); }
.u-gap-4 { gap: var(--space-4); }
.u-mt-2 { margin-top: var(--space-2); }
.u-mt-3 { margin-top: var(--space-3); }
.u-mt-4 { margin-top: var(--space-4); }
.u-mt-5 { margin-top: var(--space-5); }
.u-mt-8 { margin-top: var(--space-8); }
.u-text-muted { color: var(--color-text-muted); }
.u-text-secondary { color: var(--color-text-secondary); }
.u-rounded { border-radius: var(--radius-md); }
.u-shadow { box-shadow: var(--shadow-sm); }

/* Width helpers (limited) */
.u-w-full { width: 100%; }

/* 4. Component Primitives */
.btn { cursor:pointer; border:1px solid transparent; font-size: var(--font-size-sm); line-height:1.2; padding: 6px 14px; border-radius: var(--radius-sm); background: var(--color-gray-100); color: var(--color-text-primary); transition: background var(--transition-base), box-shadow var(--transition-fast); display:inline-flex; align-items:center; gap:6px; }
.btn:hover { background: var(--color-gray-150); }
.btn-primary { background: var(--color-primary); color: #fff; box-shadow: var(--shadow-sm); }
.btn-primary:hover { background: var(--color-primary-hover); }
.btn-danger { background: var(--color-red-500); color:#fff; }
.btn-danger:hover { background: #b91c1c; }
.btn-ghost { background: transparent; color: var(--color-text-secondary); }
.btn-ghost:hover { background: var(--color-gray-100); }

.chip { display:inline-block; background: var(--color-chip-bg); color: var(--color-chip-text); padding: 4px 10px; font-size: var(--font-size-sm); border-radius: 16px; line-height:1; }
.chip-lg { padding: 6px 14px; border-radius: 20px; }

.card { background: var(--color-surface); border-radius: var(--radius-md); box-shadow: var(--shadow-lg); padding: var(--space-8); }

.shadow-focus-blue { box-shadow: var(--shadow-focus-blue); }

/* Status Tags */
.tag { display:inline-block; padding:4px 10px; font-size: var(--font-size-sm); font-weight:500; border-radius: var(--radius-pill); line-height:1; letter-spacing:.5px; }
.tag--success { background: var(--color-green-bg); color: var(--color-green-550); border:1px solid var(--color-green-border); }
.tag--warning { background: var(--color-yellow-bg); color: var(--color-yellow-500); border:1px solid var(--color-yellow-border); }
.tag--danger { background: var(--color-red-bg); color: var(--color-red-550); border:1px solid var(--color-red-border); }
.tag--info { background: var(--color-blue-50); color: var(--color-blue-600); border:1px solid var(--color-blue-200); }
.tag--neutral { background: var(--color-gray-100); color: var(--color-text-secondary); border:1px solid var(--color-border); }

/* Panels / Sections */
.panel { background: var(--color-gray-50); border:1px solid var(--color-border); border-radius: var(--radius-md); padding: 20px 22px 24px; box-shadow: var(--shadow-md); }
.panel > h2 { margin:0 0 14px; font-size:1.1rem; font-weight: var(--font-weight-semibold); }
.panel-accent { border-left:4px solid var(--color-primary); }
.placeholder { font-size:.85rem; color: var(--color-text-secondary); background: var(--color-surface); padding:12px 14px; border:1px dashed var(--color-border); border-radius: var(--radius-md); }
.kv-list { list-style:none; padding:0; margin:0 0 16px; display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:10px 18px; font-size:.88rem; }
.user-table { width:100%; border-collapse:collapse; background: var(--color-surface); font-size:.8rem; }
.user-table th, .user-table td { padding:8px 10px; border:1px solid var(--color-border-strong); }
.user-table thead th { background: var(--color-gray-100); font-weight: var(--font-weight-semibold); }
.table-footer { margin-top:6px; font-size:.75rem; color: var(--color-text-secondary); }

/* Gradient Helpers */
.grad-blue { background: linear-gradient(135deg, var(--color-blue-500) 0%, var(--color-blue-650) 100%); color:#fff; }
.grad-purple { background: linear-gradient(135deg, var(--color-purple-grad-start) 0%, var(--color-purple-grad-end) 100%); color:#fff; }

/* Form Standardization */
.form-field { width:100%; padding:10px 12px; border:1px solid var(--color-border-strong); border-radius: var(--radius-xs); font-size: var(--font-size-base); background: var(--color-surface); transition: border-color var(--transition-base), box-shadow var(--transition-fast); box-sizing:border-box; }
.form-field:focus { border-color: var(--color-primary); box-shadow: 0 0 0 1px var(--color-primary), var(--shadow-focus-blue); }
.form-field:disabled { background: var(--color-gray-100); color: var(--color-text-muted); cursor:not-allowed; }
.form-field::placeholder { color: var(--color-text-muted); }

/* Utility borders */
.border-left-accent { border-left:4px solid var(--color-primary); }

/* Sizing helpers */
.max-w-600 { max-width:600px; }
.max-w-800 { max-width:800px; }

/* 5. Form Elements Resets (light touch) */
:root { --focus-ring: 0 0 0 2px var(--color-focus-ring), 0 0 0 4px rgba(64,158,255,0.35); }
select, input, textarea { font: inherit; color: inherit; }
select:focus, input:focus, textarea:focus { outline: none; box-shadow: var(--focus-ring); }

/* 6. Dark Mode Placeholder */
@media (prefers-color-scheme: dark) {
  :root {
    /* Example overrides; real palette would refine contrast */
    --color-surface: #1e1f24;
    --color-surface-alt: #16181d;
    --color-text-primary: #f5f7fa;
    --color-text-secondary: #cbd5e1;
    --color-text-muted: #94a3b8;
    --color-border: #2a2f36;
    --color-border-strong: #3a4049;
    --color-chip-bg: #1e3a5f;
    --color-chip-text: #b3d9ff;
    --shadow-lg: 0 2px 12px rgba(0,0,0,0.6);
    --shadow-md: 0 2px 8px rgba(0,0,0,0.5);
    --color-backdrop-blur-bg: rgba(30,31,36,0.85);
  }
  body { background: #111418; color: var(--color-text-primary); }
}

/* 7. Animations */
@keyframes fadeIn { from { opacity:0; transform: translateY(-4px);} to { opacity:1; transform: translateY(0);} }
@keyframes pop-in { 0% { opacity:0; transform: scale(.95) translateY(4px);} 100% { opacity:1; transform: scale(1) translateY(0);} }

/* 8. Helper Classes for layout content width */
.container { width: 75%; margin: 0 auto; max-width: 1180px; }

/* End of tokens */

/* Assist workspace styles (migrated from Assist.vue) */
.assist-wrapper { position: relative; }
.assist-wrapper .top-bar { position: sticky; top: 60px; height: 54px; display: flex; align-items: center; justify-content: space-between; padding: 0 var(--space-5); background: var(--color-backdrop-blur-bg); backdrop-filter: saturate(180%) blur(12px); border-bottom: 1px solid var(--color-border); box-shadow: var(--shadow-md); z-index: var(--z-assist-bar); }
.assist-wrapper .top-bar-left { font-size: var(--font-size-md); color: var(--color-text-primary); }
.assist-wrapper .top-bar-center { flex: 1; text-align: center; }
.assist-wrapper .top-select { padding: 6px 10px; font-size: var(--font-size-base); border-radius: var(--radius-sm); border: 1px solid var(--color-border); background: var(--color-surface); }
.assist-wrapper .template-chip { display: inline-block; background: var(--color-chip-bg); color: var(--color-chip-text); padding: 6px 14px; border-radius: 20px; font-size: var(--font-size-sm); box-shadow: var(--shadow-sm); }
.assist-wrapper .template-chip-inline { display: inline-block; background: var(--color-chip-bg); color: var(--color-chip-text); padding: 4px 10px; border-radius: 16px; font-size: var(--font-size-sm); }
.assist-wrapper .top-bar-right { display: flex; gap: var(--space-3); }
.assist-wrapper .top-btn { padding: 6px 14px; background: var(--color-primary); color: var(--color-white); border: none; border-radius: var(--radius-sm); cursor: pointer; font-size: var(--font-size-sm); box-shadow: var(--shadow-sm); transition: background var(--transition-base); }
.assist-wrapper .top-btn:hover { background: var(--color-primary-hover); }
.assist-wrapper .top-btn.submit-btn[disabled] { opacity: .55; cursor: not-allowed; }
.assist-wrapper .submit-dropdown-wrapper,
.assist-wrapper .work-dropdown-wrapper,
.assist-wrapper .draft-dropdown-wrapper { position: relative; }
.assist-wrapper .submit-menu,
.assist-wrapper .work-menu,
.assist-wrapper .draft-menu { position: absolute; top: 40px; right: 0; width: 340px; max-height: 420px; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--radius-md); box-shadow: var(--shadow-pop); padding: var(--space-2) var(--space-3); display: flex; flex-direction: column; gap: var(--space-2); animation: fadeIn .18s ease; }
.assist-wrapper .submit-menu { width: 360px; }
.assist-wrapper .work-menu { width: 360px; }
.assist-wrapper .submit-menu-header,
.assist-wrapper .work-menu-header,
.assist-wrapper .draft-menu-header { display: flex; justify-content: space-between; align-items: center; font-size: var(--font-size-sm); padding: 2px 4px 6px; border-bottom: 1px solid var(--color-gray-100); }
.assist-wrapper .submit-empty,
.assist-wrapper .work-empty,
.assist-wrapper .draft-empty { font-size: var(--font-size-xs); color: var(--color-text-secondary); padding: var(--space-2) 4px; }
.assist-wrapper .submit-list,
.assist-wrapper .work-list,
.assist-wrapper .draft-list { list-style: none; margin: 0; padding: 0; overflow-y: auto; flex: 1; display: flex; flex-direction: column; gap: 6px; }
.assist-wrapper .submit-item,
.assist-wrapper .work-item { display: flex; justify-content: space-between; align-items: flex-start; gap: 6px; border: 1px solid var(--color-border); border-radius: var(--radius-sm); padding: 6px 8px; background: var(--color-surface-subtle); transition: background var(--transition-fast); }
.assist-wrapper .submit-item.pending,
.assist-wrapper .work-item.applying,
.assist-wrapper .draft-item.applying { opacity: .6; pointer-events: none; }
.assist-wrapper .submit-task-main,
.assist-wrapper .work-item { flex: 1; display: flex; flex-direction: column; gap: 2px; }
.assist-wrapper .submit-title,
.assist-wrapper .work-title,
.assist-wrapper .draft-title { font-size: var(--font-size-sm); font-weight: var(--font-weight-medium); color: var(--color-text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.assist-wrapper .submit-status,
.assist-wrapper .work-meta,
.assist-wrapper .draft-time { font-size: var(--font-size-2xs); color: var(--color-text-secondary); }
.assist-wrapper .submit-action-btn { background: var(--color-primary); color: var(--color-white); border: none; border-radius: var(--radius-xs); padding: 4px 10px; font-size: var(--font-size-xs); cursor: pointer; box-shadow: var(--shadow-xs); }
.assist-wrapper .submit-action-btn:hover { background: var(--color-primary-hover); }
.assist-wrapper .work-item:hover { background: var(--color-gray-100); }
.assist-wrapper .work-error,
.assist-wrapper .draft-error { color: var(--color-red-500); font-size: var(--font-size-xs); padding: var(--space-2) 4px; }
.assist-wrapper .refresh-btn { background: var(--color-gray-100); border: 1px solid var(--color-border); border-radius: var(--radius-xs); padding: 2px 8px; font-size: var(--font-size-xs); cursor: pointer; }
.assist-wrapper .refresh-btn:hover { background: var(--color-gray-150); }
.assist-wrapper .draft-item { padding: 6px; border-radius: var(--radius-sm); cursor: pointer; display: flex; flex-direction: column; gap: 2px; border: 1px solid transparent; transition: background var(--transition-fast), border-color var(--transition-fast); }
.assist-wrapper .draft-item:hover { background: var(--color-gray-50); border-color: var(--color-gray-200); }
.assist-wrapper .draft-spinner { display: inline-block; width: 10px; height: 10px; border: 2px solid var(--color-primary); border-right-color: transparent; border-radius: 50%; margin-right: 4px; animation: spin .6s linear infinite; }
.assist-wrapper .assist-container { width: 90%; margin: 20px auto 60px; padding: var(--space-8); background: var(--color-surface); border-radius: var(--radius-md); box-shadow: var(--shadow-lg); text-align: center; }
.assist-wrapper #experimentNameDetail,
.assist-wrapper .unified-textarea { width: 100%; max-width: 1100px; min-height: 120px; font-size: 15px; line-height: 1.55; padding: 12px 14px; border: 1.5px solid var(--assist-input-border); border-radius: 8px; background: var(--assist-input-bg); box-shadow: 0 1px 4px var(--assist-input-shadow) inset; resize: vertical; transition: border-color .2s, box-shadow .2s; font-family: inherit; box-sizing: border-box; }
.assist-wrapper #experimentNameDetail:focus,
.assist-wrapper .unified-textarea:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px var(--assist-input-focus-ring); background: var(--color-surface); }
.assist-wrapper .assist-header { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: var(--space-6); text-align: left; }
.assist-wrapper .assist-header h1 { margin: 0 0 var(--space-2); font-size: 1.55rem; font-weight: var(--font-weight-semibold); }
.assist-wrapper .assist-intro { margin: 0; font-size: var(--font-size-sm); color: var(--color-text-secondary); }
.assist-wrapper .assist-header-actions { display: flex; gap: var(--space-3); }
.assist-wrapper .layout-toggle-btn { --btn-bg: var(--color-primary); --btn-bg-hover: var(--color-primary-hover); display: inline-flex; align-items: center; gap: 6px; padding: 6px 14px; background: var(--btn-bg); color: var(--color-white); border: none; border-radius: var(--radius-sm); cursor: pointer; font-size: var(--font-size-sm); box-shadow: var(--shadow-sm); line-height: 1; transition: background var(--transition-base), box-shadow var(--transition-fast); }
.assist-wrapper .layout-toggle-btn:hover { background: var(--btn-bg-hover); }
.assist-wrapper .layout-toggle-btn.icon-only { padding: 6px; width: auto; min-width: 0; }
.assist-wrapper .layout-toggle-btn.icon-only .icon { width: 20px; height: 20px; }
.assist-wrapper .layout-toggle-btn.icon-only .label-text { display: none; }
.assist-wrapper .layout-toggle-btn .icon-wrapper { display: inline-flex; align-items: center; justify-content: center; }
.assist-wrapper .layout-toggle-btn .icon { width: 18px; height: 18px; display: block; }
.assist-wrapper .layout-toggle-btn .icon-filled { fill: currentColor; }
.assist-wrapper .layout-toggle-btn:not(:disabled):hover .icon-filled { filter: drop-shadow(0 0 2px rgba(0,0,0,0.25)); }
.assist-wrapper .layout-toggle-btn:active { transform: translateY(1px); }
.assist-wrapper .layout-toggle-btn:focus-visible { outline: 2px solid var(--color-primary); outline-offset: 2px; }
.assist-wrapper .assist-layout { display: flex; flex-direction: column; gap: var(--space-6); width: 100%; }
.assist-wrapper .assist-layout.mode-horizontal { flex-direction: row; align-items: stretch; flex-wrap: wrap; gap: var(--space-4); }
.assist-wrapper .assist-layout.mode-horizontal .assist-block { flex: 1 1 calc(50% - var(--space-4)); max-width: calc(50% - var(--space-4)); }
.assist-wrapper .assist-layout.mode-horizontal .assist-block:only-child,
.assist-wrapper .assist-layout.mode-horizontal .assist-block:last-child:nth-child(2n+1) { flex: 1 1 80%; max-width: 95%; margin-left: auto; margin-right: auto; }
.assist-wrapper .assist-layout.mode-horizontal .block-body { max-height: 640px; }
.assist-wrapper .assist-block { position: relative; background: var(--color-gray-75); border: 1px solid var(--color-gray-150); border-radius: var(--radius-lg); box-shadow: var(--shadow-md); display: flex; flex-direction: column; min-height: 260px; transition: box-shadow var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast); }
.assist-wrapper .assist-block.dragging { opacity: .85; box-shadow: var(--shadow-pop); border-color: var(--color-primary); }
.assist-wrapper .assist-block.over { outline: 2px dashed var(--color-primary); outline-offset: 2px; }
.assist-wrapper .block-header { cursor: grab; user-select: none; padding: var(--space-3) var(--space-4); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--color-gray-150); background: linear-gradient(135deg, var(--color-gray-100), var(--color-gray-50)); border-top-left-radius: inherit; border-top-right-radius: inherit; }
.assist-wrapper .assist-block.dragging .block-header { cursor: grabbing; }
.assist-wrapper .block-title { font-size: var(--font-size-sm); font-weight: var(--font-weight-medium); color: var(--color-text-primary); }
.assist-wrapper .drag-hint { font-size: var(--font-size-sm); color: var(--color-text-muted); }
.assist-wrapper .block-body { padding: var(--space-4); text-align: left; overflow: auto; }
.assist-wrapper .viewer-wrapper { text-align: left; }
.assist-wrapper .placeholder { font-size: var(--font-size-sm); color: var(--color-text-secondary); padding: var(--space-3); }
.assist-wrapper .deepseek-panel h2 { margin: 0 0 var(--space-3); font-size: 1.1rem; }
.assist-wrapper .prompt-input { width: 100%; resize: vertical; border: 1px solid var(--color-border); border-radius: var(--radius-sm); padding: var(--space-3); font-family: inherit; font-size: var(--font-size-sm); background: var(--color-surface); }
.assist-wrapper .prompt-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px var(--assist-input-focus-ring); }
.assist-wrapper .deepseek-actions { display: flex; gap: var(--space-3); margin: var(--space-2) 0 var(--space-3); }
.assist-wrapper .run-btn { background: var(--color-primary-alt); }
.assist-wrapper .run-btn:hover { background: var(--color-primary-alt-hover); }
.assist-wrapper .test-result { background: var(--color-blue-50); border-radius: var(--radius-sm); padding: var(--space-3); margin-top: var(--space-2); font-size: var(--font-size-xs); white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; max-width: 100%; box-sizing: border-box; }
.assist-wrapper .test-error { margin-top: var(--space-2); font-size: var(--font-size-xs); }
.assist-wrapper .error-text { color: var(--color-red-500); }
.assist-wrapper .toast { position: fixed; top: 70px; right: 28px; background: var(--color-gray-900); color: var(--color-white); padding: 12px 18px; border-radius: var(--radius-md); box-shadow: var(--shadow-pop); font-size: var(--font-size-base); display: flex; align-items: center; gap: var(--space-2); z-index: var(--z-toast); animation: pop-in .35s ease; }
.assist-wrapper .toast-success { background: var(--color-green-500); }
.assist-wrapper .toast-error { background: var(--color-red-500); }
.assist-wrapper .toast-close { background: transparent; border: none; color: var(--color-white); font-size: 16px; cursor: pointer; padding: 0 4px; line-height: 1; }
.assist-wrapper .toast-fade-enter-from,
.assist-wrapper .toast-fade-leave-to { opacity: 0; transform: translateY(-6px); }
.assist-wrapper .toast-fade-enter-active,
.assist-wrapper .toast-fade-leave-active { transition: all .25s ease; }
.assist-wrapper .modal-mask { position: fixed; z-index: var(--z-modal); inset: 0; background: rgba(0,0,0,0.35); display: flex; align-items: center; justify-content: center; }
.assist-wrapper .modal-container { width: 380px; background: var(--color-surface); border-radius: var(--radius-lg); box-shadow: var(--shadow-modal); animation: pop-in .28s ease; overflow: hidden; }
.assist-wrapper .modal-header { font-weight: var(--font-weight-semibold); padding: 14px 18px; border-bottom: 1px solid var(--color-gray-150); }
.assist-wrapper .modal-body { padding: 18px; font-size: var(--font-size-base); line-height: 1.55; color: var(--color-gray-800); }
.assist-wrapper .modal-footer { padding: 12px 18px 18px; display: flex; justify-content: flex-end; gap: var(--space-3); }
.assist-wrapper .modal-btn { padding: 6px 16px; border-radius: var(--radius-sm); border: 1px solid transparent; font-size: var(--font-size-sm); cursor: pointer; transition: background var(--transition-fast); }
.assist-wrapper .modal-btn.secondary { background: var(--color-gray-100); border-color: var(--color-border); }
.assist-wrapper .modal-btn.secondary:hover { background: var(--color-gray-150); }
.assist-wrapper .modal-btn.primary { background: var(--color-primary-alt); color: var(--color-white); }
.assist-wrapper .modal-btn.primary:hover { background: var(--color-primary-alt-hover); }

@media (max-width: 1180px) {
  .assist-wrapper .assist-layout.mode-horizontal { flex-direction: column; }
}

@keyframes spin { to { transform: rotate(360deg); } }
